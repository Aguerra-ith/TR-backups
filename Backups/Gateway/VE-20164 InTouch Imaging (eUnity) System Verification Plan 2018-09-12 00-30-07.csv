id,title,section_id,template_id,type_id,priority_id,milestone_id,refs,created_by,created_on,updated_by,updated_on,estimate,estimate_forecast,suite_id,custom_automation_type,custom_description,custom_preconds,custom_steps,custom_expected,custom_steps_separated,custom_mission,custom_goals,section_hierarchy,section_parent_id,section_description
3414024,Number of Concurrent Jobs by eUnity,57244,1,7,2,"","GATE-15,GATE-39",9,1516805302,9,1526658599,"","",4445,0,"eUnity shall be able to run up to 10 jobs concurrently so that for the majority of studies, all series are loaded in a single queue/request reducing the time a user has to wait for series to load. Default is 3.","","1. Login to eUnity as `INTOUCH_ADM`
2. Go to `https://<IP>/jmx-console/HtmlAdaptor?action=inspectMBean&name=eunity.smartcache%3Aservice%3DSmartCachePrefetcher`
3. Search for `NumberOfConcurrentJobs`",*NumberOfConcurrentJobs* is set to **10**.,"","","",Application Configuration,"",The Client Outlook's eUnity application shall be pre-configured to support the InTouch products so that Image Viewer's functionality is optimized for performance and the user experience is tailored depending on the calling application.
3417848,Default 'INTOUCH_LIST' Federated Worklist Provider configuration,57244,1,7,2,"","GATE-41,GATE-155",9,1516978282,9,1526667168,"","",4445,0,Allows for querying a list of multiple service-instances (dcm4chees) by CA1.,"","1. SSH into eUnity server
2. Open `/var/lib/eunity/server/default/conf/eunity/eunity-provider-config.xml` file
3. Search for `<service-instance name='INTOUCH_LIST'`
4. Go to https://<IP>/e/ 
5. Login as an Admin (User: INTOUCH_ADMâ€¨)
6. Expand the list of servers available.
","The following lines are present in the file:

        <service-instance  name='INTOUCH_LIST' class='com.clientoutlook.providers.FederatedWorklistProvider' >
                <instance-configuration>
                        <properties>
                                <serviceInstances>DICOMExternal,IRISPACS,PACSPC2,PACSPC3</serviceInstances>
                                <studyLimit>2000</studyLimit>
                        </properties>
                </instance-configuration>
        </service-instance>


When logged in through the web, make sure INTOUCH_LIST appears on the list among available servers to pic from for the search.","","","",Application Configuration,"",The Client Outlook's eUnity application shall be pre-configured to support the InTouch products so that Image Viewer's functionality is optimized for performance and the user experience is tailored depending on the calling application.
3456274,Default 'IRIS' Simple Priority Service Provider configuration,57244,1,7,2,"","GATE-41,GATE-222",9,1518786813,9,1519315492,"","",4445,0,Allows generating links to studies from the IRISPACS service-instance (aet 'PACS-IRIS') and allows for configuration of querying multiple dcm4chees by adding to the 'defaultProviders' if desired.,"","1. SSH into eUnity server
2. Open `/var/lib/eunity/server/default/conf/eunity/eunity-provider-config.xml` file
3. Search for `<service-instance name='IRIS'`","The following lines are present:

        <service-instance  name='IRIS' class='com.clientoutlook.providers.SimplePriorityStudyProvider' >
                <instance-configuration>
                        <properties>
                                <defaultProviders>DICOMExternal,IRISPACS</defaultProviders>
                        </properties>
                </instance-configuration>
        </service-instance>","","","",Application Configuration,"",The Client Outlook's eUnity application shall be pre-configured to support the InTouch products so that Image Viewer's functionality is optimized for performance and the user experience is tailored depending on the calling application.
3467299,Default 'INTOUCH_VIEW' Simple Priority Study Provider configuration,57244,1,7,2,"","GATE-41,GATE-253",9,1519315523,9,1519315721,"","",4445,0,"Allows generating links to studies from the IRISPACS, PACSPC2, and PACSPC3 service-instances.","","1. SSH into eUnity server
2. Open `/var/lib/eunity/server/default/conf/eunity/eunity-provider-config.xml` file
3. Search for `<service-instance name='INTOUCH_VIEW'`","The following lines are present:

        <service-instance  name='INTOUCH_VIEW' class='com.clientoutlook.providers.SimplePriorityStudyProvider' >
                <instance-configuration>
                        <properties>
                                <defaultProviders>DICOMExternal,IRISPACS,PACSPC2,PACSPC3</defaultProviders>
                        </properties>
                </instance-configuration>
        </service-instance>","","","",Application Configuration,"",The Client Outlook's eUnity application shall be pre-configured to support the InTouch products so that Image Viewer's functionality is optimized for performance and the user experience is tailored depending on the calling application.
3595686,Default 'IRISIMAGE' Simple Priority Image Provider,57244,1,7,2,"","GATE-41, GATE-464",24,1524765561,24,1524766029,"","",4445,0,"Allows viewing studies from the 'IRISPACS' service-instance using url link from IRIS.

","","1. SSH into eUnity server
2. Open /var/lib/eunity/server/default/conf/eunity/eunity-provider-config.xml file
3. Search for <service-instance name='IRISIMAGE'
4. Go to the bottom of the file and search for the section: 'DEFAULT PROVIDERS'","The following lines are present:

<service-instance  name='IRISIMAGE' class='com.clientoutlook.providers.SimplePriorityImageProvider' >
       <instance-configuration>
              <properties>
                      <defaultProviders>DICOMExternal,IRISPACS</defaultProviders>
              </properties>
        </instance-configuration>
</service-instance>





  <!-- ==================================================================== -->
  <!-- DEFAULT PROVIDERS                                                    -->
  <!-- ==================================================================== -->
  <providers>
        <metadata-provider>IRIS</metadata-provider>
        <image-provider>IRISIMAGE</image-provider>
        <study-comments-provider></study-comments-provider>
        <report-provider></report-provider>
        <worklist-provider>Local</worklist-provider>
        <instance-location-provider>Local</instance-location-provider> 
  </providers>","","","",Application Configuration,"",The Client Outlook's eUnity application shall be pre-configured to support the InTouch products so that Image Viewer's functionality is optimized for performance and the user experience is tailored depending on the calling application.
3417849,IRIS Provider includes 2D and 3D pulls,57244,1,7,2,"","GATE-18,GATE-36",9,1516978289,9,1516979369,"","",4445,0,The default 'Provider' configuration shall include a 2D and a 3D provider so that a user of the IRIS application can view the 3D Multi-Planer Reconstructions (MPRs) of the Study.,"","1. SSH into eUnity server
2. Open `/var/lib/eunity/server/default/conf/eunity/eunity-provider-config.xml` file
3. Search for `service-instance name='IRISPACS'`","The following line is present:
`<instanceLocationProviderClass>com.clientoutlook.dcm4chee.providers.Dcm4cheeDICOMPullInstanceLocationProvider</instanceLocationProviderClass>`","","","",Application Configuration,"",The Client Outlook's eUnity application shall be pre-configured to support the InTouch products so that Image Viewer's functionality is optimized for performance and the user experience is tailored depending on the calling application.
3423015,FastScrolling enabled for studies.,57244,1,7,2,"","GATE-17, GATE-48",24,1517253556,24,1519410658,"","",4445,0,"As a user of the eUnity Viewer, I shall be able to quickly scroll through image slices as soon as the images begin appearing onscreen so that the performance of the viewer is smooth and not jumpy.","","1. SSH into eUnity server
2. Open `eunity-config.properties` file located in `/var/lib/eunity/server/default/conf/eunity/`
3. Check values for:
    * EnableFastNavigation
    * FastNavigationThreshold
    * MouseWheelNavigationFPS

_(The file is Large, it is recommended to use the 'search' feature on the text editor: ctrl+W on Nano)._
","The file should present the following values by default:

* EnableFastNavigation=true
* FastNavigationThreshold=4
* MouseWheelNaigationFPS=60","","","",Application Configuration,"",The Client Outlook's eUnity application shall be pre-configured to support the InTouch products so that Image Viewer's functionality is optimized for performance and the user experience is tailored depending on the calling application.
3423017,Proxyhost for 3D Rendering,57244,1,7,2,"","GATE-19, GATE49",24,1517256186,24,1525904282,"","",4445,0,"The eUnity Proxyhost host setting has to be configured to resolve internally and externally so that the 3D Rendering engine can reach the defined port.
","","Verify Default proxyhost configuration for 3D rendering:

* In /var/lib/eunity/server/default/conf/eunity/eunity-vr-properties.xml  check <proxyhost> value.

* In /var/lib/eunity3D/3DProxy/standalone/configuration/eUnity3D/config.xml, check <host> value and <eUnityDataDomain> value.","* In /var/lib/eunity/server/default/conf/eunity/eunity-vr-properties.xml:  <proxyhost> should be set to: 'prodtest.pacsviewer.net'

* In /var/lib/eunity3D/3DProxy/standalone/configuration/eUnity3D/config.xml:  <host> should be '192.168.128.206'  and <eUnityDataDomain> should be ''prodtest.pacsviewer.net''.

(Note: If this is verified AFTER running the script to set 'Manufacturing IP and DNS' then 'prodtest.pacsviewer.net' will be replaced by the inputted DNS on the script run.)","","","",Application Configuration,"",The Client Outlook's eUnity application shall be pre-configured to support the InTouch products so that Image Viewer's functionality is optimized for performance and the user experience is tailored depending on the calling application.
3423243,IRIS Hanging Protocol Implementation,57244,1,7,2,"","GATE-16, GATE-32",24,1517260703,24,1519745572,"","",4445,0,"The 'Hanging Protocol' is a way to organize the elements and tools that are visible when viewing a study. 
* IRIS: when the viewer has been identified as an IRIS user (for example when viewing a study through IRIS application via SSM, or ISI web application, etc)

","","1. Verify the content of the file:  '/var/lib/eunity/server/default/conf/eunity/eunity-hanging-protocol-config.xml'
2. Open a study via SSM:  
    * Go to ssmstaging.intouchiris.com 
    * login as a Physician
    * search for any patient using wildcard *
    * view patient's study","1. The file contains the following lines:

        <HangingProtocol>
                <Name>IRIS</Name>
                <Selector>
                        <NumberOfStudies>1</NumberOfStudies>            <!-- 1, 1.., 2, etc. -->
                </Selector>
                <Environment>
                        <UserGroup>IRIS</UserGroup>
                        <NumberOfScreens>1..</NumberOfScreens>          <!-- 1, 1.., 2, etc. -->
                </Environment>

                <Display>
                        <ShowReport>false</ShowReport>
                        <Sharpening>false</Sharpening>
                        <DisplayDemographicsByDefault>true</DisplayDemographicsByDefault>
                        <ToolbarMask>-DEMOGRAPHIC_OVERLAY_TOGGLE,-MARKUP_OVERLAY_TOGGLE,-FLIP_OR_ROTATE_TOOLS_MENU,-FREEFORMROI_TOOL,-HORIZONTAL_FLIP_TOOL,-SERIES_LINKING_TOOL,-SHARPENING_TOOL,-REFERENCE_LINES_TOOL,-TRIANGULATION_TOOL,-CINE_TOOL,-CIRCLE_TOOL,-COBB_ANGLE_TOOL,-POLYGON_TOOL,-PROTRACTOR_TOOL,-PRINT_TOOL,-EXPORT_TOOL,-REVERT_WINDOW_LEVEL_TOOL,-POLYGON_TOOL,-PROTRACTOR_TOOL,-RESET_WINDOW_LEVEL_TOOL,-INVERT_TOOL,-VERTICAL_FLIP_TOOL,-ROTATE_90_CLOCKWISE_TOOL,-ROTATE_90_COUNTER_CLOCKWISE_TOOL,-COLLABORATE_TOOL,-FULL_SCREEN_TOGGLE,-MARKUP_TOOLS_MENU,-ARROW_TOOL,-FREEHAND_TOOL,-TEXT_TOOL,-SPINE_LABELING_TOOL,-LINE_TOOL,-MAG_GLASS_TOOL,-SERIES_REPOSITION_TOOL</ToolbarMask>
                        <PlayCINE>false</PlayCINE>

                        <!--    Screen layouts
                                        ______________

                                1upImageBox
                                1x2upImageBox
                                2x1upImageBox
                                2x2upImageBox

                                1upSeriesBox
                                1x2upSeriesBox
                                2x1upSeriesBox
                                3x2upSeriesBox
                                2x3upSeriesBox
                                2x2upSeriesBox
                                4x2upSeriesBox

                                2x1upStudyBox
                                1upStudyBox
                                1upStudyBox2x3upSeriesBox
                                1upStudyBox3x2upSeriesBox
                                1upStudyBox2x2upSeriesBox
                                1x2StudyBox
                                2x2upStudyBox
                                2x1upStudyBox1x2upSeriesBox
                                1x2upStudyBox2x1upSeriesBox


                        -->
                        <ScreenLayout>1upStudyBox</ScreenLayout>

                </Display>

          </HangingProtocol>

2. Users identified as IRIS users are presented with a simplified set of tools and controls, including:
    * Report
    * Navigate
    * Zoom/Pan
    * Window Level
    * Reset Window Level
    * Window Presets
    * Linear measurement tool
    * Elipse tool
    * Eraser
    * Screen layouts
3.  The IRIS specific Hanging Protocol is invoked by the `&usergroup=IRIS` parameter being passed in the URL created by the SSM","","","",Application Configuration,"",The Client Outlook's eUnity application shall be pre-configured to support the InTouch products so that Image Viewer's functionality is optimized for performance and the user experience is tailored depending on the calling application.
3423244,Hashed User and Secret,57244,1,7,2,"","GATE-24, GATE-47",24,1517264835,9,1517267517,"","",4445,0,"# The eUnity application shall use a user and secret key combination for single sign-on (SSO) credentials.
# Each instance shall have its own hashed user/Secret key combination. The image default shall be:
  * Username: pyyczLPFWzlEIjHRjQQe
  * Secret: gaObNpm21jEdEwkdQNsSZj2cTbjEnQklnO2vi77Q
","","Verify username and secret values in: `/var/lib/eunity/server/default/conf/eunity/eunity-config.properties`

_(It's a large file, it's recommended to use the search tool on the text editor - crtl+W on Nano - and search for 'ThirdPartyCredentials')_","The entry should appear like this: `ThirdPartyCredentials=<username>:<secret>:IntouchHealth`

* `ThirdPartyCredentials=pyyczLPFWzlEIjHRjQQe:gaObNpm21jEdEwkdQNsSZj2cTbjEnQklnO2vi77Q:IntouchHealth`","","","",Application Configuration,"",The Client Outlook's eUnity application shall be pre-configured to support the InTouch products so that Image Viewer's functionality is optimized for performance and the user experience is tailored depending on the calling application.
3424967,'PACSPC' Providers includes 2D and 3D pulls,57244,1,7,2,"","GATE-26, GATE-40",24,1517336084,9,1526670765,"","",4445,0,"The default 'Provider' configuration shall include a federated worklist for the InTouch 'Test' PACS that includes a 2D and a 3D provider so that a user of the eUnity application can view 3D or the Multi-Planer Reconstructions (MPRs) of the Study.

Creation of the 'Provider' requires the 'Test' PACS AE Titles to be configured for the Provider to work.","","1. SSH into eUnity server
2. Go to:  `/var/lib/eunity/server/default/conf/eunity`
3. Open file: `eunity-provider-config.xml`
4. Check value for `<instanceLocationProviderClass>` statement","File should contain: 

`<instanceLocationProviderClass>com.clientoutlook.dcm4chee.providers.Dcm4cheeDICOMPullInstanceLocationProvider</instanceLocationProviderClass>`","","","",Application Configuration,"",The Client Outlook's eUnity application shall be pre-configured to support the InTouch products so that Image Viewer's functionality is optimized for performance and the user experience is tailored depending on the calling application.
3427034,Empty eUnity Cache,57244,1,7,2,"","GATE-29, GATE-44",24,1517424358,9,1526942515,"","",4445,0,The study cache of the eUnity system shall be empty so that the VM image does not contain unnecessary data making the archive file larger than required.,"","1. Go to `https://<IP>/dcm4chee-web/`
2. Login with an eUnity username/password
3. Check the following DCM4CHEE folders: 
    * `Folder`
    * `Trash`","* The study cache folder contains no DICOM studies.
* The Trash folder contains no 'deleted' DICOM studies.

","","","",Application Configuration,"",The Client Outlook's eUnity application shall be pre-configured to support the InTouch products so that Image Viewer's functionality is optimized for performance and the user experience is tailored depending on the calling application.
3427037,InTouch branding on eUnity enterprise DICOM viewer,57244,1,7,2,"","GATE-30, GATE-50",24,1517426817,9,1526671138,"","",4445,0,The InTouch PACS Viewer shall be branded as InTouch so that the application is completely white labeled,"","1. Go to `https://<IP>/e/`
2. Make sure the following pages have the InTouch logo in place:
    * The landing webpage (ie; `https://<IP>/e/`)
    * The web browser tab (favicon)
    * The 'Help' section shall have the OEM branding removed (`https://<IP>/e/docs/`)
    * The splashscreen as the study loads
    * The study view page (lower right corner)
    * InTouch branding on InTouch DICOM Viewer on expired links
1. SSH into eUnityServer
2. Open file: `/var/lib/eunity/server/default/conf/eunity/branding/custom.properties`","1. All company logos are in place.
2. File `/var/lib/eunity/server/default/conf/eunity/branding/custom.properties` has the following content:
    * ProductName=InTouch Imaging
    * ViewerTitle=InTouch Imaging
    * LogoutTitle=InTouch Imaging Logout
    * LoginTitle=InTouch Imaging Login
    * SearchTitle=InTouch Imaging Study Search
    * AboutBoxTitle=InTouch Health's Telehealth Network & Services Deliver High-Quality Clinical Care To Any Patient, At Any Time, While Reducing Overall Costs.
    * AboutCompany=InTouch Health's Telehealth Network & Services Deliver High-Quality Clinical Care To Any Patient, At Any Time, While Reducing Overall Costs.
    * ChangePasswordTitle=Change Password
    * CompanyUrl=https://intouchhealth.com/
    * CompanyName=InTouch Health","","","",Application Configuration,"",The Client Outlook's eUnity application shall be pre-configured to support the InTouch products so that Image Viewer's functionality is optimized for performance and the user experience is tailored depending on the calling application.
3439873,Display slice thickness,57244,1,7,2,"","GATE-42, GATE-45",24,1518028528,9,1526941180,"","",4445,0,"As an IRIS user, I want to view the CT slice thickness in the demographic data that is overlaid when viewing a study.

The CT DICOM slice thickness value shall be displayed when viewing 2D images
The CT DICOM slice thickness value shall be displayed when viewing Multi-Planer Reconstructions (MPRs)
The CT DICOM slice thickness value shall be displayed when viewing 3D images","","(this is for IRIS users so it must be verified on SSM or any other application where the user is identified as an IRIS user)

1. Go to ssmstaging.intouchiris.com
2. Login as a physician
3. Search for any patient (use *) and click on 'view study'.
4. Make sure Slice Thickness is visible in the lower left corner.
5. Select the screen layout tool (last tool on the right, with a black square screen icon)
6. From the MPR/3D section, select any of the MPR options.
7. Make sure Slice Thickness is visible in the lower left corner.
8. Using the screen layout tool, change the view for 3D
9. Make sure Slice Thickness is visible in the lower left corner (but not present in the 3D model)","Slice Thickness is visible in the lower left corner for 2D, 3D and MPR views. ","","","",Application Configuration,"",The Client Outlook's eUnity application shall be pre-configured to support the InTouch products so that Image Viewer's functionality is optimized for performance and the user experience is tailored depending on the calling application.
3439874,Imaging Cert,57244,1,7,2,"","GATE-170, GATE-171",24,1518035294,9,1526671668,"","",4445,0,As an eUnity Imaging server I shall have the assembledImagingCert.jks cert by default.,1. Check Last Pass under 'imgviewer.intouchhealth.com cert' in the Shared Production folder for the correct keystorePass value,"1. SSH into eUnity server
2. `CD` to the following folders:
  * `/var/lib/eunity/server/default/conf/certificates/`
  * `/var/lib/eunity3D/3DProxy/standalone/configuration/eUnity3D/`
3. Open the following files:
  * `/var/lib/eunity/server/default/deploy/jboss-web.deployer/server.xml`:
  * `/var/lib/eunity3D/3DProxy/standalone/configuration/eUnity3D/config.xml`:
  * `/var/lib/eunity3D/3DProxy/standalone/configuration/standalone.xml`:

","* The following certs are present:
  * `/var/lib/eunity/server/default/conf/certificates/imgviewer_intouchhealth_com.jks`
  * `/var/lib/eunity3D/3DProxy/standalone/configuration/eUnity3D/imgviewer_intouchhealth_com.jks`

* These files contains the following:
  * `/var/lib/eunity/server/default/deploy/jboss-web.deployer/server.xml`:
      * `keystoreFile='${jboss.server.home.dir}/conf/certificates/imgviewer_intouchhealth_com.jks'`
      * `keystorePass={The-value-from-lastPass}`
  * `/var/lib/eunity3D/3DProxy/standalone/configuration/eUnity3D/config.xml`:
      * `<keyStoreFile>eUnity3D/imgviewer_intouchhealth_com.jks</keyStoreFile>`
      * `<keyStorePass>{The-value-from-lastPass}</keyStorePass>`
  * `/var/lib/eunity3D/3DProxy/standalone/configuration/standalone.xml`:
      * `<keystore path='eUnity3D/imgviewer_intouchhealth_com.jks' relative-to='jboss.server.config.dir' keystore-password={The-value-from-lastPass}/>`
","","","",Application Configuration,"",The Client Outlook's eUnity application shall be pre-configured to support the InTouch products so that Image Viewer's functionality is optimized for performance and the user experience is tailored depending on the calling application.
3450667,No preset minimum patient search requirements,57244,1,7,2,"","GATE-27,GATE-28",9,1518548438,9,1518787391,"","",4445,0,"Each provider shall not enforce a minimum search requirements so that a user does not have to enter a minimum number letters of the patient name, minimum number of numbers of the Patient ID or Accession ID, or specify a date range prior to searching.","","In the  file located in , each default provider (IRIS, PACSPC2, and PACSPC3) properties has the search criteria set as below:

1. SSH into eUnity server
2. Go to `/var/lib/eunity/server/default/conf/eunity` directory
3. Open `eunity-provider-config.xml` file
4. Search for the following default providers:
  * `IRISPACS`
  * `PACSPC2`
  * `PACSPC3`","Each default provider in `/var/lib/eunity/server/default/conf/eunity/eunity-provider-config.xml` contains these lines:

	<!-- Search List constraints -->
		<studyLimit>1000</studyLimit>
		<minimumPatientNameLength>0</minimumPatientNameLength>
		<minimumPatientIdLength>0</minimumPatientIdLength>
		<minimumAccessionNumberLength>0</minimumAccessionNumberLength>
		<maximumDateRangeSpan>0</maximumDateRangeSpan>","","","",Application Configuration,"",The Client Outlook's eUnity application shall be pre-configured to support the InTouch products so that Image Viewer's functionality is optimized for performance and the user experience is tailored depending on the calling application.
3450668,Monitor Layout selection on mobile devices,57244,1,7,2,"","GATE-43,GATE-46",9,1518549014,9,1526497928,"","",4445,0,"As a Mobile Device, the Monitor Layout menu shall be scaled appropriately so that when selected all options selections are fully visible.
The Monitor Layout selection menu scales and automatically adjusts to fit the device in eUnity version 6.3.0-1414.

**Note**: The ESXi version of the image will not be used in the IRIS configuration and therefore does not apply at this time to this version of the Imaging module.","","## KVM host:
1. Launch eUnity viewer
2. Open a study on each of these devices:
  * iPhone / Safari
  * iPhone / IRIS app
  * iPad / Safari
  * iPad / IRIS app
3. Click on the black-screen-icon tool (first one from the right) to expand all the options (Study compare, 3D/MPR, Image, and Series)

##ESXi host:
1. Launch eUnity viewer
2. Open a study on each of these devices:
  * iPhone / Safari
  * iPad / Safari
3. Click on the black-screen-icon tool (first one from the right) to expand all the options (Study compare, 3D/MPR, Image, and Series)","Study compare, 3D/MPR, Image, and Series menus are fully visible when selected on mobile devices.","","","",Application Configuration,"",The Client Outlook's eUnity application shall be pre-configured to support the InTouch products so that Image Viewer's functionality is optimized for performance and the user experience is tailored depending on the calling application.
3456273,MPR/3D view shall be enabled for both Flash and Chrome,57244,1,7,2,"","GATE-230,GATE-231",9,1518783324,9,1518783559,"","",4445,0,"","","1. SSH into eUnity server
2. Open `/var/lib/eunity/server/default/conf/eunity/eunity-config.properties` file","Verify that `/var/lib/eunity/server/default/conf/eunity/eunity-config.properties` file contains these lines:

    # Property to enable the MPR and 3D features (there can be individually controlled by user and userGroup through UserAccessMPR3D)
    #   Default: false
    EnableMPR3D=true

    # 
    # (TEMP) Property to enable the MPR and 3D features under Flash. Requires EnableMPR3D=true
    #   Default: true
    TempEnableMPR3DFlash=false

    # 
    # (TEMP) Property to enable the MPR and 3D features under Flash and Chrome. Requires EnableMPR3D=true and TempEnableMPR3DFlash=false
    #   Default: true
    # TempEnableMPR3DFlashChrome=true","","","",Application Configuration,"",The Client Outlook's eUnity application shall be pre-configured to support the InTouch products so that Image Viewer's functionality is optimized for performance and the user experience is tailored depending on the calling application.
3456275,PACSPC2 provider configured,57244,1,7,2,"","GATE-223,GATE-224",9,1518787976,9,1526665449,"","",4445,0,"","","* eUnity server
1. SSH into eUnity server
2. Open `/var/lib/eunity/server/default/conf/eunity/eunity-provider-config.xml` file
* eUnity Viewer
1. Login to https://<IP>/e/
2. Click `Data Source` dropdown
* PACS
1. Login to `192.168.128.83:8080/dcm4chee-web3`
2. Go to `Application Entities`","â€¢ File `/var/lib/eunity/server/default/conf/eunity/eunity-provider-config.xml` contains these lines: 

    <service-instance name='PACSPC2' class='com.clientoutlook.providers.CustomProviderBundle'>
        <show-in-worklist>true</show-in-worklist>
        <friendly-name>PACSPC2</friendly-name>
        <instance-configuration>
            <properties>
                <!-- Update this to reflect the AE Title (if applicable).  Remove otherwise -->
                <defaultAET>PACSPC2</defaultAET>

* `Data Source` dropdown contains `PACSPC2`
* `192.168.128.83:8080/dcm4chee-web3` contains the following `AE`:
  * AE Title: PACSPC2
  * Port: 11112","","","",Application Configuration,"",The Client Outlook's eUnity application shall be pre-configured to support the InTouch products so that Image Viewer's functionality is optimized for performance and the user experience is tailored depending on the calling application.
3456277,PACSPC3 provider configured,57244,1,7,2,"","GATE-223,GATE-225",9,1518788381,9,1526665944,"","",4445,0,"","","* eUnity server
1. SSH into eUnity server
2. Open `/var/lib/eunity/server/default/conf/eunity/eunity-provider-config.xml` file
* eUnity Viewer
1. Login to https://<IP>/e/
2. Click `Data Source` dropdown
* PACS
1. Login to `192.168.128.92:8080/dcm4chee-web3`
2. Go to `Application Entities`","â€¢ File `/var/lib/eunity/server/default/conf/eunity/eunity-provider-config.xml` contains these lines: 

    <service-instance name='PACSPC3' class='com.clientoutlook.providers.CustomProviderBundle'>
        <show-in-worklist>true</show-in-worklist>
        <friendly-name>PACSPC3</friendly-name>
        <instance-configuration>
            <properties>
                <!-- Update this to reflect the AE Title (if applicable).  Remove otherwise -->
                <defaultAET>PACSPC3</defaultAET>


* `Data Source` dropdown contains `PACSPC3`
* `192.168.128.92:8080/dcm4chee-web3` contains the following `AE`:
  * AE Title: PACSPC3
  * Port: 11112","","","",Application Configuration,"",The Client Outlook's eUnity application shall be pre-configured to support the InTouch products so that Image Viewer's functionality is optimized for performance and the user experience is tailored depending on the calling application.
3456276,PACS-IRIS provider configured,57244,1,7,2,"","GATE-223,GATE-226",9,1518788287,24,1526675745,"","",4445,0,"","","* eUnity server
1. SSH into eUnity server
2. Open `/var/lib/eunity/server/default/conf/eunity/eunity-provider-config.xml` file
* eUnity Viewer
1. Login to `https://<IP>/e/`
2. Click `Data Source` dropdown
* PACS
1. Login to `<IP>/dcm4chee-web/`
2. Go to `AE Management`","â€¢ File `/var/lib/eunity/server/default/conf/eunity/eunity-provider-config.xml` contains these lines: 

    <service-instance name='IRISPACS' class='com.clientoutlook.providers.CustomProviderBundle'>
        <show-in-worklist>true</show-in-worklist>
        <friendly-name>IRISPACS</friendly-name>
        <instance-configuration>
            <properties>
                <!-- Update this to reflect the AE Title (if applicable).  Remove otherwise -->
                <defaultAET>DCM4CHEE</defaultAET>

* `Data Source` dropdown contains `IRISPACS`
* <IP>/dcm4chee-web contains the following `AE`:
  * AE Title: DCM4CHEE
  * Port: 11112","","","",Application Configuration,"",The Client Outlook's eUnity application shall be pre-configured to support the InTouch products so that Image Viewer's functionality is optimized for performance and the user experience is tailored depending on the calling application.
3456499,AE Title set to 'INTOUCH',57244,1,7,2,"","GATE-220, GATE-221",24,1518805561,24,1526670762,"","",4445,0,"The DEFAULT AE Title of the eUnity Imaging Viewer should be 'INTOUCH'.
(This AE Title value need to change to an 'actual value' in order to be able to view studies.)",run the script to set <IP> and <DNS>,"1. Go to (for KVM: https://<IP>/dcm4chee-web) (for ESXi: https://<IP>/dcm4chee-web)
2. Then go to the `AE Management` tab
","Confirm that the table shows: 

* AE Title: INTOUCH is set in all the PACS servers for 128.206. (That is the manufacturing IP). ITHIMAGING400 is the .217 dev AE title
* Hostname: `localhost`
* Port: `11112`","","","",Application Configuration,"",The Client Outlook's eUnity application shall be pre-configured to support the InTouch products so that Image Viewer's functionality is optimized for performance and the user experience is tailored depending on the calling application.
3465572,Display should default to HTML5 and fallback to Flash,57244,1,7,2,"","GATE-245, GATE-246",24,1519251731,9,1526658055,"","",4445,0,"When viewing a study, the eUnity Imaging Viewer should first try to use HTML5, and if not available should fallback to using flash.","","1. SSH into eUnity server
2. Go to: `/var/lib/eunity/server/default/conf/eunity/`
3. Open the file: `eunity-config.properties`

Note: use the 'find word' option to navigate directly the desired file section","Verify the viewer options are configured accordingly below:

    # The image viewer to use
    # Valid Values:
    # - - - - - - -FLASH - always use flash
    # - - - - - - -HTML - always use html
    # - - - - - - -AUTO or AUTOFLASH - if flash available, use flash, else use HTML
    # - - - - - - -AUTOHTML - if html available, use html, else use flash 
    #
    # Default: FLASH
    ViewerSelection=AUTOHTML
    IEViewerSelection=AUTOHTML
    ChromeViewerSelection=AUTOHTML","","","",Application Configuration,"",The Client Outlook's eUnity application shall be pre-configured to support the InTouch products so that Image Viewer's functionality is optimized for performance and the user experience is tailored depending on the calling application.
3467078,Toolbar should only have a home tab,57244,1,7,2,"","GATE-248, GATE-249",24,1519258553,9,1526942587,"","",4445,0,The 'Flip + Rotate' and 'Markup' tabs are not visible any more and all buttons should be located under the unique tab named 'Home'.,"- Have a physician created on SSM that uses PACS server 400

- SSH into ubuntu@192.168.128.217 (for KVM image) to open files later. (@192.168.124.189 for ESXi)","1. Open a study via SSM:
* Login to SSM as a Physician
* Search for any patient
* Open his/her study

2. Open a study via Pacsviewer:
* Go to:  https://64.29.227.217/e/  (https://192.168.124.189/e/ for ESXi)
* Login with username=INTOUCH_ADMâ€¨
* Select any PACS server
* Open any study 

3. Open the following file:
* /var/lib/eunity/server/default/conf/eunity/eunity-config.properties","1. There should be only one tab named 'Home' and it shouldn't contain any 'Flip + Rotate' controls.

2. There should be only one tab named 'Home' and it should include ALL 'Flip + Rotate' and 'Markup' toolbars controls.

3. The file should contain the following entry:

	Toolbar={'name':'Toolbar.category.home','tools':'SHOW_STUDY_LIST_PANE_TOGGLE','SHOW_STUDY_INFO_PANE_TOGGLE','DIVIDER','MOUSE_CURSOR_TOOL','PAN_TOOL','WINDOW_LEVEL_TOOL','RESET_WINDOW_LEVEL_TOOL','WINDOW_LEVEL_PRESETS_TOOL','SHARPENING_TOOL','INVERT_TOOL','DEMOGRAPHIC_OVERLAY_TOGGLE','TRIANGULATION_TOOL','REFERENCE_LINES_TOOL','CINE_TOOL','SERIES_REPOSITION_TOOL','SERIES_LINKING_TOOL','MAG_GLASS_TOOL','ARROW_TOOL','RULER_TOOL','ERASER_TOOL','REVERT_WINDOW_LEVEL_TOOL','COLLABORATE_TOOL','MARKUP_OVERLAY_TOGGLE','ELLIPSE_TOOL','CIRCLE_TOOL','FREEFORMROI_TOOL','LINE_TOOL','POLYGON_TOOL','FREEHAND_TOOL','TEXT_TOOL','PROTRACTOR_TOOL','COBB_ANGLE_TOOL','SPINE_LABELING_TOOL','VERTICAL_FLIP_TOOL','HORIZONTAL_FLIP_TOOL','ROTATE_90_CLOCKWISE_TOOL','ROTATE_90_COUNTER_CLOCKWISE_TOOL','SCREEN_LAYOUT_MENU'},{'name':'Toolbar.category.export','tools':'EXPORT_TOOL','PRINT_TOOL'},{'dynamicTabId':'spine-labeling','name':'Toolbar.category.spineLabeling','tools':'MOUSE_CURSOR_TOOL','SPINE_LABELING_TOOL','REFERENCE_LINES_TOOL','SPINE_LABELING_VISIBILITY_TOGGLE','ERASER_TOOL','SPINE_LABELING_DELETE_LABELS','SCREEN_LAYOUT_MENU'},{'dynamicTabId':'mpr-3d','name':'Toolbar.category.mpr3d','tools':'MOUSE_CURSOR_TOOL','PAN_TOOL','WINDOW_LEVEL_TOOL','RESET_WINDOW_LEVEL_TOOL','WINDOW_LEVEL_PRESETS_TOOL','INVERT_TOOL','DEMOGRAPHIC_OVERLAY_TOGGLE','TRIANGULATION_TOOL','REFERENCE_LINES_TOOL','REVERT_WINDOW_LEVEL_TOOL','ERASER_TOOL','MPR_OBLIQUE_TOOL','MPR_CUBIC_CURVE_TOOL','MPR3D_TRANSFER_FUNCTION_TOOL','MPR3D_CLIP_BOX_TOOL','MPR3D_CUT_PLANE_TOOL','MPR3D_SCALPEL_TOOL','MPR3D_SETTINGS_TOOL','SCREEN_LAYOUT_MENU'}","","","",Application Configuration,"",The Client Outlook's eUnity application shall be pre-configured to support the InTouch products so that Image Viewer's functionality is optimized for performance and the user experience is tailored depending on the calling application.
3639580,Default hanging protocol set,57244,1,7,2,"","GATE-508,GATE-510",9,1526668307,9,1526668482,"","",4445,0,"","","1. SSH into eUnity server
2. Open `/var/lib/eunity/server/default/conf/eunity/eunity-hanging-protocol-config.xml` file","The following lines are present:

    <HangingProtocol>
        <Name>Default</Name>
        <Selector>
            <NumberOfStudies>1</NumberOfStudies>
        </Selector>
        <Environment>
            <Device>WEB</Device>
            <NumberOfScreens>1..</NumberOfScreens>
        </Environment>
        <Display>
            <ScreenLayout>1upStudyBox</ScreenLayout>
            <DisplayDemographicsByDefault>true</DisplayDemographicsByDefault>
            <PlayCINE>false</PlayCINE>
        </Display>
  </HangingProtocol>

","","","",Application Configuration,"",The Client Outlook's eUnity application shall be pre-configured to support the InTouch products so that Image Viewer's functionality is optimized for performance and the user experience is tailored depending on the calling application.
3414246,Disable TCP timestamp response,57245,1,7,2,"","GATE-22,GATE-165",9,1516806198,9,1516880202,"","",4445,0,"The eUnity VM shall not respond to ping requests with TCP timestamps so that remote hosts uptime cannot be approximated.

Disable TCP timestamp responses on Linux: Set the value of net.ipv4.tcp_timestamps to 0","","1. SSH into eUnity server
2. Open `/etc/sysctl.conf` file",TCP timestamp response is disabled: `net.ipv4.tcp_timestamps = 0`,"","","",Security,"",Identified security patches and system configuration changes shall be applied to remediate the potential vulnerabilities of the InTouch Imaging (eUnity Viewer) Virtual Machine.
3414247,"Retrieve OS, 3rd party, and software updates and security patches from InTouch repository",57245,1,7,2,"","GATE-148,GATE-156",9,1516806640,24,1523917221,"","",4445,0,"As an InTouch Imaging instance, the VM server shall retrieve OS, 3rd party software and SOUP, and InTouch application updates from an InTouch managed and controlled repository.

* The VM server shall use the InTouch apt-get repo for ubuntu based libraries","","1. SSH into eUnity server
2. Open `/etc/apt/sources.list` file","The contents of `/etc/apt/sources.list` is:

	# This file provides a list of sources for the apt/apt-get commands to pull from.
	# All sources are set to the ITH apt server: https://aptmirror.intouchreports.com/ubuntu
	
	# List sources for installing packages.
	deb https://aptmirror.intouchreports.com/ubuntu xenial main universe
	
	# List sources for security mirror.
	deb https://aptmirror.intouchreports.com/ubuntu xenial-security main universe
	
	# List sources for non-security mirror.
	deb https://aptmirror.intouchreports.com/ubuntu xenial-updates main universe","","","",Security,"",Identified security patches and system configuration changes shall be applied to remediate the potential vulnerabilities of the InTouch Imaging (eUnity Viewer) Virtual Machine.
3416036,Use TLS 1.2 Transport Layer Security,57245,1,7,2,"","GATE-21,GATE-163",9,1516880220,9,1516880326,"","",4445,0,"The eUnity VM shall not use weak web Transport Layer Security for communication so that weak ciphers cannot be leveraged in an attack.

* The eUnity imaging VM shall only use TLS 1.2 for https communication.
* All other TLS protocols shall be disabled on the eUnity imaging VM.","","1. SSH into eUnity server
2. Open `/var/lib/eunity/server/default/deploy/jboss-web.deployer/server.xml` file
3. Search for `sslProtocols`",`sslProtocols` is set to **TLSv1.2**.,"","","",Security,"",Identified security patches and system configuration changes shall be applied to remediate the potential vulnerabilities of the InTouch Imaging (eUnity Viewer) Virtual Machine.
3416037,SSL cipher set requirements for Imaging's (eUnity Viewer's) web server,57245,1,7,2,"","GATE-161,GATE-162",9,1516880421,9,1518782886,"","",4445,0,"As an Imaging instance running a web server, I shall communicate over the InTouch network using the cipher set dictated by InTouch's Network Operations and Security teams.

* The list of acceptable ciphers include:
  * TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 (0xc030) ECDH secp384r1 (eq. 7680 bits RSA) FS256
  * TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 (0xc028) ECDH secp384r1 (eq. 7680 bits RSA) FS256
  * TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA (0xc014) ECDH secp384r1 (eq. 7680 bits RSA) FS256
  * TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA (0xc013) ECDH secp384r1 (eq. 7680 bits RSA) FS128
  * TLS_RSA_WITH_AES_256_CBC_SHA256 (0x3d)256 TLS_RSA_WITH_AES_256_CBC_SHA (0x35)256
* All other ciphers are not allowed and shall be removed from use.","","1. SSH into eUnity server
2. Open `/var/lib/eunity/server/default/deploy/jboss-web.deployer/server.xml` file
3. Search for `ciphers`","`ciphers` is set to **'TLS\_ECDHE\_RSA\_WITH\_AES\_256\_GCM\_SHA384,TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA384,TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA,TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA,TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA256,TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA'**","","","",Security,"",Identified security patches and system configuration changes shall be applied to remediate the potential vulnerabilities of the InTouch Imaging (eUnity Viewer) Virtual Machine.
3416127,eUnity Viewer Firewall port requirements,57245,1,7,2,"","GATE-20,GATE-164",9,1516903292,24,1523917620,"","",4445,0,"","","1. Run `ping <eUnity_IP>`
2. SSH into eUnity server
3. SUDO Open`/etc/firewalld/zones/public.xml` file","1. eUnity responds to ping
2. You can ssh into the server
3. `/etc/firewalld/zones/public.xml` contains these lines:
  * `<port port='8428' protocol='tcp'/>`
  * `<port port='443' protocol='tcp'/>`
  * `<port port='844' protocol='tcp'/>`
  * `<port port='8443' protocol='tcp'/>`
  * `<port port='6778' protocol='tcp'/>`
  * `<port port='6779' protocol='tcp'/>`
  * `<port port='11112' protocol='tcp'/>`
  * `<forward-port to-port='18443' protocol='tcp' port='443'/>`","","","",Security,"",Identified security patches and system configuration changes shall be applied to remediate the potential vulnerabilities of the InTouch Imaging (eUnity Viewer) Virtual Machine.
3557356,Default SSH port configuration of Imaging Guest VM,57245,1,7,2,"","GATE-417,GATE-424",9,1523480703,9,1526649048,"","",4445,0,Identified security patches and system configuration changes shall be applied to remediate the potential vulnerabilities of the InTouch Imaging (eUnity Viewer) Virtual Machine.,"","1. SSH into eUnity server
2. Run `vi /etc/ssh/sshd_config`

","* File `/etc/ssh/sshd_config` contains this line:
  * `Port 22`","","","",Security,"",Identified security patches and system configuration changes shall be applied to remediate the potential vulnerabilities of the InTouch Imaging (eUnity Viewer) Virtual Machine.
3437928,Manufacturing IP and DNS set,57246,1,7,2,"","GATE-159,GATE-235",9,1517944160,24,1525809342,"","",4445,0,"**Manufacturing IP:** _192.168.128.206_
**Manufacturing DNS:** _prodtest.pacsviewer.net_

This IP and DNS will be set in `/etc/hosts`, `/etc/network/interfaces`, `/var/lib/eunity3D/3DProxy/standalone/configuration/eUnity3D/config.xml`, and `/var/lib/eunity/server/default/conf/eunity/eunity-vr-properties.xml`.","","1. SSH into eUnity server
2. Open `/var/lib/eunity/server/default/conf/eunity/eunity-vr-properties.xml` file
3. Open `/var/lib/eunity3D/3DProxy/standalone/configuration/eUnity3D/config.xml` file
4. Open `/etc/network/interfaces` file
5. Open `/etc/hosts` file","â€¢ File `/var/lib/eunity/server/default/conf/eunity/eunity-vr-properties.xml` contains the Manufacturing IP (`192.168.128.206`):

    <properties>
      <secret>XdGOUNZmcpeJNVbWqBAedmDJmTmXGtoZFErCZOex</secret>
      <proxyHost>192.168.128.206</proxyHost>
    </properties>

â€¢ File `/var/lib/eunity3D/3DProxy/standalone/configuration/eUnity3D/config.xml` contains the Manufacturing DNS (`prodtest.pacsviewer.net`):

    <?xml version='1.0' encoding='ISO-8859-1' ?>
    <config>
      <vrServers>
        <server>
          <host>prodtest.pacsviewer.net</host>
          <port>6778</port>
          <sliceCapacity>10000</sliceCapacity>
        </server>
        <server>
          <host>prodtest.pacsviewer.net</host>
          <port>6779</port>
          <sliceCapacity>10000</sliceCapacity>
        </server>
      </vrServers>
      <eUnityDataProtocol>http</eUnityDataProtocol>
      <eUnityDataDomain>prodtest.pacsviewer.net</eUnityDataDomain>
      <eUnityDataPort>18080</eUnityDataPort>
      <flashPolicyPort>1843</flashPolicyPort>
      <secureFlashPolicyPort>1844</secureFlashPolicyPort>
      <keyStoreFile>eUnity3D/pacsviewer.net.jks</keyStoreFile>
      <keyStorePass>'JIUJ6j9i4JHI0hr1g'</keyStorePass>
    </config>

â€¢ File `/etc/network/interfaces` contains the Manufacturing IP (`192.168.128.206`):

    # The primary network interface
    auto ens2
    iface ens2 inet static
    address 192.168.128.206
    network 192.168.0.0
    netmask 255.255.255.0
    broadcast 192.168.128.255
    gateway 192.168.128.254
    dns-nameservers 192.168.124.3 192.168.124.4

â€¢ File `/etc/hosts` contains the Manufacturing IP (`192.168.128.206`) and Manufacturing DNS (`prodtest.pacsviewer.net`):

    192.168.128.206 prodtest.pacsviewer.net","","","",Guest VM Image,"",The InTouch Imaging (eUnity Viewer) shall be captured in an Image archive form for a Guest VM on the KVM or ESXi Host version of the InTouch Gateway.
3416128,Manufacturing IP and DNS shall be set and a script shall be provided to change this IP and DNS during installation,57246,1,7,2,"","GATE-159,GATE-168",9,1516904353,9,1518785025,"","",4445,0,"Script to be run as root and take two arguments (eUnity IP and eUnity DNS). This DNS will be used to replace 'prodtest.pacsviewer.net' in /etc/hosts and /var/lib/eunity3D/3DProxy/standalone/configuration/eUnity3D/config.xml and this IP will be used to replace '192.168.128.206' located in /etc/hosts, /var/lib/eunity/server/default/conf/eunity/eunity-vr-properties.xml.",Have **C3437928** (`Hosts file configuration for 3D support`) already tested.,"1. SSH into eUnity server
2. Run `sudo bash /home/ubuntu/configure_eunity.sh <IP> <DNS>`
3. Open `/etc/hosts,` file
4. Open `/var/lib/eunity/server/default/conf/eunity/eunity-vr-properties.xml` file
5. Open `/var/lib/eunity3D/3DProxy/standalone/configuration/eUnity3D/config.xml` file","* sudo and password are required to run script
* 2 parameters are required:
    * IP
    * DNS
* `IP` will be used to replace `192.168.128.206` located in: 
  * `/etc/hosts`
  * `/var/lib/eunity/server/default/conf/eunity/eunity-vr-properties.xml`
* `DNS` will be used to replace `prodtest.pacsviewer.net` in:
  * `/etc/hosts` 
  * `/var/lib/eunity3D/3DProxy/standalone/configuration/eUnity3D/config.xml`","","","",Guest VM Image,"",The InTouch Imaging (eUnity Viewer) shall be captured in an Image archive form for a Guest VM on the KVM or ESXi Host version of the InTouch Gateway.
3414025,Image version identification,57246,1,7,2,"","GATE-160,GATE-169",9,1516805611,9,1526649493,"","",4445,0,"As a VM instance created from an Image archive, I shall have an local configuration file that identifies the qcow image version used to create this particular instance.
Sample:
ImageVersion SW-20121-001 InTouch Imaging (eUnity Viewer) KVM Image <Builddate>","","1. SSH into eUnity server
2. Open `versions.yml` file","* `versions.yml` file in `/home/ubuntu` contains the follow line for KVM image:
  * `vm_image_version: 'SW-20121-001 InTouch Imaging (eUnity Viewer) KVM Image 05-17-2018'`
* `versions.yml` file in `/home/ubuntu` contains the follow line for ESXi image:
  * `vm_image_version: 'SW-20189-001 InTouch Imaging (eUnity Viewer) ESXi Image 05-17-2018'`","","","",Guest VM Image,"",The InTouch Imaging (eUnity Viewer) shall be captured in an Image archive form for a Guest VM on the KVM or ESXi Host version of the InTouch Gateway.
3416125,3rd Party Applications,57246,1,7,2,"","GATE-31,GATE-153",9,1516892412,9,1519406191,"","",4445,0,"","","1. SSH into eUnity server
2. Run `psql --version`",`psql --version` command returns **(PostgreSQL) 9.4.16.**,"","","",Guest VM Image,"",The InTouch Imaging (eUnity Viewer) shall be captured in an Image archive form for a Guest VM on the KVM or ESXi Host version of the InTouch Gateway.
3418070,Clean up of files,57246,1,7,2,"","GATE-37,GATE-38",9,1516982186,9,1516983053,"","",4445,0,"The 'gold build' of the eUnity Image shall be cleaned of unnecessary files so that the image filesize is as small as possible.

DICOM study sets shall be removed.
Old installer files and folders left over from the installation of eUnity.","","1. SSH into eUnity server
2. Run `ls /home/ubuntu/
3. Run `sudo find / -name eunity.OLD -type d`","* No eUnity installer files in:
    * `home/ubuntu`
    * `home/ubuntu/eunity_install`
* There is no `eunity.OLD` folder","","","",Guest VM Image,"",The InTouch Imaging (eUnity Viewer) shall be captured in an Image archive form for a Guest VM on the KVM or ESXi Host version of the InTouch Gateway.
3437927,Default eUnity user accounts,57246,1,7,2,"","GATE-51,GATE-52",9,1517942277,9,1517942448,"","",4445,0,"","","1. Login to eUnity server as `INTOUCH_ADM`
2. Go to `https://<IP/DNS>/dcm4chee-web/user_list.m`","* Default `admin` user was removed
* There are two ITH users:
    * Admin: `INTOUCH_ADM`
    * User: `INTOUCH_USR`

","","","",Guest VM Image,"",The InTouch Imaging (eUnity Viewer) shall be captured in an Image archive form for a Guest VM on the KVM or ESXi Host version of the InTouch Gateway.
3441598,Ubuntu LTS Operating System,57246,1,7,2,"","GATE-23,GATE-167",9,1518091704,9,1526330481,"","",4445,0,"","","* eUnity server:
    1. SSH into eUnity server
    2. Run `lsb_release -a`
* KVM Host:
    1. SSH into host:
        1. Get private key from LastPass and save it in a file.
        2. Run: `chmod 600 your_file_with_the_key`
        3. Run: `ssh -i <your_file_with_the_key> intouch@192.168.128.195`
    2. Run `ls *.qcow2 to get <filename>`
        1. Run `qemu-img info <filename>.qcow2`
    3. Run `virsh list` and get the instance id/name
    4. Run `virsh dumpxml <id/name>`
* ESXi Host:
    1. Login to web console (https://192.168.124.90)
    2. Select `SW-20189-001_InTouch_Imaging_eUnity_Viewer` VM
    3. Check `Hardware Configuration` panel","* eUnity server: Ubuntu version is `Ubuntu 16.04.3 LTS`
* KVM Host: 
  * Image info contains: `virtual size: 208G (223338299392 bytes)`
  * xml contains the following:
    * <memory unit='KiB'>24576000</memory>
    * <currentMemory unit='KiB'>24576000</currentMemory>
    * <vcpu placement='static'>8</vcpu>
* ESXi Host:
  * CPU: 8 vCPUs
  * Memory: 23.44 GB
  * Hard disk 1: 208 GB","","","",Guest VM Image,"",The InTouch Imaging (eUnity Viewer) shall be captured in an Image archive form for a Guest VM on the KVM or ESXi Host version of the InTouch Gateway.
3559093,eUnity Version Identification,57246,1,7,2,"","GATE-404, GATE-405",24,1523545570,9,1526649333,"","",4445,0,As an InTouch Imaging eUnity Viewer I should have a file to identify my eUnity version so that Device Agent can use it to report to Device Manager.,"","1. SSH into eUnity server
2. Open versions.yml file",The file has the following: eunity_version: '6.4.0-253' (the version number may change in the future),"","","",Guest VM Image,"",The InTouch Imaging (eUnity Viewer) shall be captured in an Image archive form for a Guest VM on the KVM or ESXi Host version of the InTouch Gateway.
3416126,Default User Accounts for ubuntu OS,57247,1,7,2,"","GATE-25,GATE-166",9,1516894849,9,1516894928,"","",4445,0,"","","1. SSH into eUnity server
2. Run `sudo ls`",The `ubuntu` user is asked for a password to attain root access.,"","","","Authentication, Authorization, and Sensitive Data Handling","","* Authentication â€“ User shall be authenticated using a username and password
* Authorization â€“ Users shall be only allowed to access the data they have been authorized to view
* HIPAA guidelines shall be followed when handling PHI data for storage and retention.
    * Sensitive data shall be encrypted at rest and in transit
    * Audit trails of user and process actions shall be maintained."
3418071,Disable 'root' access via SSH to Imaging VM,57247,1,7,2,"","GATE-146,GATE-157",9,1516984164,9,1516984561,"","",4445,0,"As an InTouch Technician, I shall not be able to login into the InTouch Imaging VM/server via SSH as the 'root' user so that the ubuntu root account cannot be exploited as an attach vector.","","1. Try to SSH into eUnity as `root`
2. SSH into eUnity server as `ubuntu`
3. Open `/etc/ssh/sshd_config` file

","* You cannot ssh as root
* `PermitRootLogin` is set to 'no'","","","","Authentication, Authorization, and Sensitive Data Handling","","* Authentication â€“ User shall be authenticated using a username and password
* Authorization â€“ Users shall be only allowed to access the data they have been authorized to view
* HIPAA guidelines shall be followed when handling PHI data for storage and retention.
    * Sensitive data shall be encrypted at rest and in transit
    * Audit trails of user and process actions shall be maintained."
3418072,SSH access restricted to Private/Public key access to Imaging VM,57247,1,7,2,"","GATE-145,GATE-158",9,1516984816,9,1523553865,"","",4445,0,"Each InTouch Imaging VM instance shall use eUnity SSH public/private key pair to establish a remote SSH connection to the Imaging VM.

* Managed SSH Keys must include one for Manufacturing and one for Production (used by Engineering, Gateway Services Team, and Deployment nodes).
* Managed keys shall be stored in a logical organization schema for credentials stored in a secured repository such as LastPass.","","1. SSH into eUnity server
2. Open `/etc/ssh/sshd_config` file
3. Open `/home/ubuntu/.ssh/authorized_keys` file
4. Login into LastPass and look for `eUnity SSH Manufacturing Key` in `Shared-IRIS-Production` folder
5. Login into LastPass and look for `eUnity SSH Production Key` in `Shared-IRIS-Production` folder","* `/etc/ssh/sshd_config` file contains the following lines:
    * `PasswordAuthentication` set to 'no'
    * `UsePAM` set to 'no'
    * `ChallengeResponseAuthentication` set to 'no'
    * `LoginGraceTime` is set to '20'
* The eUnity manufacturing and production public keys are placed in /home/ubuntu/.ssh/authorized_keys
* LastPass contains eUnity manufacturing and production SSH keys","","","","Authentication, Authorization, and Sensitive Data Handling","","* Authentication â€“ User shall be authenticated using a username and password
* Authorization â€“ Users shall be only allowed to access the data they have been authorized to view
* HIPAA guidelines shall be followed when handling PHI data for storage and retention.
    * Sensitive data shall be encrypted at rest and in transit
    * Audit trails of user and process actions shall be maintained."
3570143,Upgrade to eUnity version 6.4.X to allow for mobile diagnostic use,80868,1,7,2,"","GATE-403, GATE-446",24,1524076296,9,1527529635,"","",4445,0,"The eUnity application shall be cleared for diagnostic use on Mobile Devices so that the Imaging module has the appropriate clearance for IRIS and InTouch workflows.

**Note**: The ESXi version of the image will not be used in the IRIS configuration and therefore does not apply at this time to this version of the Imaging module.

","","## KVM host:
1. Launch eUnity viewer
2. Open a study on each of these devices:
  * iPhone / Safari
  * iPhone / IRIS app
  * iPad / Safari
  * iPad / IRIS app

##ESXi host:
1. Launch eUnity viewer
2. Open a study on each of these devices:
  * iPhone / Safari
  * iPad / Safari","When viewing the study on eUnity versions 6.4.X or later, when viewed on a mobile device on safari or in an app's webview/iframe, the banner stating, 'not certified for diagnostic interpretation on this device' should not appear.","","","",3rd party Medical Imaging Viewer Application,"",""
3616813,EnableDiagnosticMobile=true included in eunity-config.properties,80868,1,7,2,"","GATE-403, GATE-465",24,1525462985,9,1526498262,"","",4445,0,Mobile Diagnostic property should be enabled.,"","1. SSH into KVM and ESXi machines. 
2. On both, open the file: /var/lib/eunity/server/default/conf/eunity/eunity-config.properties ","Both files:  '/var/lib/eunity/server/default/conf/eunity/eunity-config.properties'   include the line:

*EnableDiagnosticMobile=true*","","","",3rd party Medical Imaging Viewer Application,"",""
3679146,'CA1' application integration,80868,1,7,2,"",GATE-183,23,1530309556,9,1530553972,"","",4445,0,"The ITH 'CA1' application shall be able to query on patient first and last name, patient ID/MRN, Patient DOB, Study date through the Imaging application, link a study to a CA1 record, and launch the InTouch Imaging viewer.","","A. Check the location config:

1. Go to the admin menu.
2. Select locations.
3. Edit location 'ITH Imaging Stage 404'.
4. Navigate to PACS viewer config.

B. Test patient linking and launching:

1. Login to Clinical Apps.
2. Start a new record by clicking **PACS Viewer** in the left pane.
3. Select location 'ITH Imaging Stage 404' and submit.
4. Name the patient **Juan Perez** and create the record.
5. Go to the **Imaging** tab and click the **Link & Open Stydylist** button.
6. Click the study that shows up.","A. eUnity PACS viewer should launch and show the selected study. Smoke test the viewer (zoom in, out, adjust window, etc).
B. Check that PACS viewer is enabled and the Viewer type is **eUnity**","","","",3rd party Medical Imaging Viewer Application,"",""
